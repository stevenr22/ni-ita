<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Descargar PDF</title>
    <script src="jspdf.min.js"></script>
    <!-- Incluye la biblioteca QRCode -->
    <script src="qrcode.js"></script>
</head>

<body>

    <script>
        // Función para generar el PDF
        function generarPDF() {
            // Crear instancia de jsPDF
            var doc = new jsPDF();

            // Agregar contenido al PDF
            doc.text("¡Hola, este es tu PDF!", 10, 10);

            // Generar el código QR
            var qrCodeData = "https://0bac-2800-bf0-8269-cb3-618e-1fa8-fa4b-b7b0.ngrok-free.app/niñita/qr.php"; // Datos para el código QR
            /* 
                NIÑITA este enlace es de un dominio que pude crear de forma local con un programa
                por eso me permite ver el html al escanear el qr, tendrias que subir a un dominio de
                tu preferencia para asi reemplazar el que tengo con el tuyo, claramente que al final sea la
                direccion del archivo qr.html que es el archivo donde se mostrara la info de la compra
            */
            var qrCode = new QRCode(document.createElement('div'), {
                text: qrCodeData,
                width: 100,
                height: 100
            });

            // Obtener la imagen del código QR como base64
            var qrCodeBase64 = qrCode._el.firstChild.toDataURL("image/png");

            // Agregar el código QR al PDF
            doc.addImage(qrCodeBase64, 'PNG', 10, 20, 50, 50); // Ajusta las coordenadas y el tamaño según tus necesidades

            // Descargar el PDF
            doc.save("ejemplo.pdf");
        }

        // Llamar a la función para generar el PDF
        generarPDF();

    </script>

</body>

</html>